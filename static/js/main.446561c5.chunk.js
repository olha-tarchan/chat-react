(this["webpackJsonpchat-react"]=this["webpackJsonpchat-react"]||[]).push([[0],{57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(13),c=a.n(s),n=a(50),i=a.n(n),r=(a(57),a(17)),o=a(16),m=a(46),d=(a(58),a(59),a(47));d.a.initializeApp({apiKey:"AIzaSyAHDBrW8mfXOPT4cDgH8Fur8u8vg2XNa3M",authDomain:"react-chat-fb563.firebaseapp.com",projectId:"react-chat-fb563",storageBucket:"react-chat-fb563.appspot.com",messagingSenderId:"508873462994",appId:"1:508873462994:web:53c83ef1f5b9944feec90b",measurementId:"G-S8CDZ3DREJ"});var l=[{id:"kristen123",name:"Kristen Bell",photo:"https://callforcode.org/wp-content/uploads/2020/05/CelebritySupporter_KristenBell-scaled.jpg",data:[{incoming:!0,createdAt:1632074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1632074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1632074947003,message:"opposed to using "},{incoming:!1,createdAt:1632074948023,message:"combined with a handful"}]},{id:"nRok123",name:"the Rok",photo:"https://ichef.bbci.co.uk/news/976/cpsprodpb/C26C/production/_111927794_gettyimages-1192169655.jpg",data:[{incoming:!1,createdAt:1633064947023,message:" looked up one of the more obscure Latin words"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:"Contrary to popular belief"},{incoming:!1,createdAt:1633084949023,message:"The first line of Lorem Ipsum"}]},{id:"Krasinski231",name:"Josh Krasinski",photo:"https://pbs.twimg.com/media/EG-LJCsX0AAr0f3.jpg",data:[{incoming:!0,createdAt:1632072937023,message:"as opposed to using"},{incoming:!1,createdAt:1632034946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1632074947003,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1632074958023,message:"combined with a handful"}]},{id:"er5orphy",name:"Morphy Me",photo:"https://mymodernmet.com/wp/wp-content/uploads/2021/01/morphy-me-celebrity-face-mashups-15.jpg",data:[{incoming:!1,createdAt:1633164947023,message:"opposed to using"},{incoming:!0,createdAt:1633014747023,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1633184847023,message:"combined with a  "},{incoming:!0,createdAt:1633184949023,message:"It is a long established fact "}]},{id:"krTerra1232",name:"Terra Let",photo:"https://i.insider.com/56016278bd86ef1c008bc175?width=1136&format=jpeg",data:[{incoming:!0,createdAt:1532074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1532074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1532074947003,message:" now use Lorem Ipsum as their default model text "},{incoming:!1,createdAt:1532074948023,message:"as opposed to using"}]},{id:"ghuytr",name:"Ross Mona",photo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQd1aszXNewnsUvlMBOt7ZdvkK17694e4jT122ZcnSzcPEmk9FAd1cGrLOPpK9LHS4WTVE&usqp=CAU",data:[{incoming:!1,createdAt:1633064947023,message:"opposed to using"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1633084949023,message:"It is a long established fact "}]},{id:"itvanen1233",name:"Ivan Tor",photo:"https://research.fb.com/wp-content/uploads/2016/11/peopleeric-anderson-7936_finalcrop.jpg?w=300",data:[{incoming:!0,createdAt:1631074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1631074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1631074947003,message:"opposed to using "},{incoming:!1,createdAt:1631074948023,message:"combined with a handful"}]},{id:"der5aron",name:"Aaron Soanes",photo:"https://www.co2australia.com.au/wp-content/uploads/2015/07/Aaron-Soanes_headshot.jpg",data:[{incoming:!1,createdAt:1633064947023,message:"opposed to using"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:"combined with a  "},{incoming:!1,createdAt:1633084949023,message:"It is a long established fact "}]}],h=a(21),g="/login",u="/chat",j=a(0),b=a.n(j),p=a(3),f=c.a.createContext(),O=a(12),v=function(){var e=Object(s.useContext)(f).auth,t=function(){var t=Object(p.a)(b.a.mark((function t(){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new d.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(a);case 3:s=t.sent,s.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"col-12 center",children:Object(O.jsx)("div",{className:"form-login",children:Object(O.jsx)("button",{onClick:t,children:"Sigh In"})})})},x=a(42),_=function(){var e=Object(s.useContext)(f),t=e.search,a=e.handlerSearch,c=Object(s.useRef)("");return Object(O.jsx)("div",{className:"search_box",children:Object(O.jsxs)("div",{className:"input_wrapper",children:[Object(O.jsx)("div",{className:"search_box_icon",children:"\u260c"}),Object(O.jsx)("input",{ref:c,value:t,onChange:function(){a(c.current.value)},placeholder:"Search or start new chat",type:"text"})]})})},N=function(){var e=Object(s.useContext)(f).auth,t=Object(x.a)(e),a=Object(o.a)(t,1)[0].photoURL;return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsx)("div",{className:"header_logo",children:Object(O.jsx)("div",{className:"item_img img_select",children:Object(O.jsx)("div",{className:"header_logo_img item_img_img",children:Object(O.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(a,")")},children:"1"})})})}),Object(O.jsx)(_,{}),Object(O.jsx)("div",{className:"header_title",children:"Chats"})]})},A=function(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},C=function(e){var t=new Date(e),a=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes(),s=t.getHours()>12?"".concat(t.getHours()%12,":").concat(a,"PM"):"".concat(t.getHours(),":").concat(a,"AM");return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear().toString().slice(-2),", ").concat(s)},w=function(){var e=Object(s.useContext)(f),t=e.openChatRoom,a=e.searchResult;return Object(O.jsx)("div",{className:"persons",children:Object(O.jsx)("div",{className:"persons_list",children:a&&a.map((function(e){var a=e.data[e.data.length-1];return Object(O.jsxs)("div",{onClick:t.bind(null,e),className:"persons_item",children:[Object(O.jsx)("div",{className:"persons_item_image",children:Object(O.jsx)("div",{className:"item_img img_select",children:Object(O.jsx)("div",{className:"item_img_img",children:Object(O.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(e.photo,")")},children:"1"})})})}),Object(O.jsxs)("div",{className:"persons_item_info",children:[Object(O.jsx)("div",{className:"persons_item_name",children:e.name}),Object(O.jsx)("div",{className:"persons_item_text",children:a.message})]}),Object(O.jsx)("div",{className:"persons_item_date",children:A(a.createdAt)})]},e.id)}))})})},I=function(){var e=Object(s.useContext)(f),t=e.dataChatRoom,a=e.sendMessage,c=e.changeClassForLeftPanel,n=Object(s.useState)(""),i=Object(o.a)(n,2),r=i[0],m=i[1],d=Object(s.useRef)(null);return Object(s.useEffect)((function(){d.current.scrollIntoView()}),[t,a]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsxs)("div",{className:"header_chat",children:[" ",Object(O.jsx)("div",{onClick:c.bind(null,"col_left"),className:"btn-menu",children:"\u276e "}),Object(O.jsx)("div",{className:"header_chat_img item_img img_select",children:Object(O.jsx)("div",{className:"item_img",children:Object(O.jsx)("div",{className:"item_img_img",children:Object(O.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(t.photo,")")},children:"1"})})})}),Object(O.jsx)("div",{className:"header_chat_title",children:t.name})]})}),Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsxs)("div",{className:"chat_messages",children:[t.name.length>0&&t.data.map((function(e){return e.incoming?Object(O.jsxs)("div",{className:"message_item item_left",children:[Object(O.jsx)("div",{className:"item_img",children:Object(O.jsx)("div",{className:"item_img_img",children:Object(O.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(t.photo,")")},children:"1"})})}),Object(O.jsxs)("div",{className:"item_info",children:[Object(O.jsx)("div",{className:"item_sms",children:e.message}),Object(O.jsx)("div",{className:"item_date",children:C(e.createdAt)})]})]},e.createdAt):Object(O.jsx)("div",{className:"message_item item_right",children:Object(O.jsxs)("div",{className:"item_info",children:[Object(O.jsx)("div",{className:"item_sms",children:e.message}),Object(O.jsx)("div",{className:"item_date",children:C(e.createdAt)})]})},e.createdAt)})),Object(O.jsx)("i",{ref:d})]}),Object(O.jsx)("div",{className:"chat_send_message",children:Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("div",{className:"wrapper_textarea",children:Object(O.jsx)("textarea",{value:r,onChange:function(e){return m(e.target.value)},placeholder:"Type your message",type:"text"})}),Object(O.jsx)("div",{onClick:function(){return e={id:t.id,message:r},a(e),void m("");var e},className:"wrapper_icon chat_box_icon",children:"\u27a2"})]})})]})]})},S=[{path:g,Component:v}],y=[{path:u,Component:function(){var e=Object(s.useContext)(f).classLeftColumn;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:e,children:[Object(O.jsx)(N,{}),Object(O.jsx)(w,{})]}),Object(O.jsx)("div",{className:"col_right",children:Object(O.jsx)(I,{})})]})}}],L=function(){var e=Object(s.useContext)(f).auth,t=Object(x.a)(e);return Object(o.a)(t,1)[0]?Object(O.jsxs)(h.d,{children:[y.map((function(e){var t=e.path,a=e.Component;return Object(O.jsx)(h.b,{path:t,component:a,exact:!0},t)})),Object(O.jsx)(h.a,{to:u})]}):Object(O.jsxs)(h.d,{children:[S.map((function(e){var t=e.path,a=e.Component;return Object(O.jsx)(h.b,{path:t,component:a,exact:!0},t)})),Object(O.jsx)(h.a,{to:g})]})},k=function(e){return Object(r.a)(e).sort((function(e,t){return t.data[t.data.length-1].createdAt-e.data[e.data.length-1].createdAt}))},R=d.a.auth(),T=d.a.firestore();var M=function(){var e=Object(s.useState)(l),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(a[0]),i=Object(o.a)(n,2),h=i[0],g=i[1],u=Object(s.useState)(""),j=Object(o.a)(u,2),b=j[0],p=j[1],v=Object(s.useState)([]),x=Object(o.a)(v,2),_=x[0],N=x[1],A=Object(s.useState)(""),C=Object(o.a)(A,2),w=C[0],I=C[1],S=Object(s.useState)("col_left"),y=Object(o.a)(S,2),M=y[0],D=y[1],F=function(){fetch("https://api.chucknorris.io/jokes/random").then((function(e){return e.json()})).then((function(e){return I(e.value)}))};Object(s.useEffect)((function(){if(localStorage.getItem("dataChatReenbit")){var e=JSON.parse(localStorage.getItem("dataChatReenbit"));c(e),g(e[0]),N(e)}else{var t=k(a);localStorage.setItem("dataChatReenbit",JSON.stringify(t)),c(t),g(t[0]),N(t)}F()}),[]),Object(s.useEffect)((function(){var e=k(a);if(localStorage.setItem("dataChatReenbit",JSON.stringify(e)),""!==b){var t=a.filter((function(e){return e.name.replace(/\s+/g,"").toLowerCase().includes(b.replace(/\s+/g,"").toLowerCase())}));N(t)}else N(a)}),[a,h,b]);var J=function(e){D(e)},P=function(e){var t=Object(r.a)(a);t.map((function(t){return t.id===e&&t.data.push({incoming:!0,createdAt:Date.now(),message:w}),t}));var s=k(t);c(s),localStorage.setItem("dataChatReenbit",JSON.stringify(s))};return Object(O.jsxs)(m.a,{children:[Object(O.jsx)(f.Provider,{value:{firebase:d.a,auth:R,firestore:T,sendMessage:function(e){var t=Object(r.a)(a);t.map((function(t){return t.id===e.id&&t.data.push({incoming:!1,createdAt:Date.now(),message:e.message}),t}));var s=k(t);c(s),localStorage.setItem("dataChatReenbit",JSON.stringify(s)),F(),setTimeout((function(){P(e.id)}),1e4),clearTimeout(1e4)},openChatRoom:function(e){g(e),J("col_left active")},dataChatRoom:h,search:b,handlerSearch:function(e){p(e)},searchResult:_,classLeftColumn:M,changeClassForLeftPanel:J},children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsx)(L,{})})})}),","]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M,{})}),document.getElementById("root")),D()}},[[70,1,2]]]);
//# sourceMappingURL=main.446561c5.chunk.js.map