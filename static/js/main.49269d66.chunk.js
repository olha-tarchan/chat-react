(this["webpackJsonpchat-react"]=this["webpackJsonpchat-react"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var s=a(12),c=a.n(s),n=a(44),i=a.n(n),r=(a(52),a(17)),o=a(16),m=a(47),d=(a(53),a(54),a(41));d.a.initializeApp({apiKey:"AIzaSyAHDBrW8mfXOPT4cDgH8Fur8u8vg2XNa3M",authDomain:"react-chat-fb563.firebaseapp.com",projectId:"react-chat-fb563",storageBucket:"react-chat-fb563.appspot.com",messagingSenderId:"508873462994",appId:"1:508873462994:web:53c83ef1f5b9944feec90b",measurementId:"G-S8CDZ3DREJ"});var l=[{id:"kristen123",name:"Kristen Bell",photo:"https://callforcode.org/wp-content/uploads/2020/05/CelebritySupporter_KristenBell-scaled.jpg",data:[{incoming:!0,createdAt:1632074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1632074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1632074947003,message:"opposed to using "},{incoming:!1,createdAt:1632074948023,message:"combined with a handful"}]},{id:"nRok123",name:"the Rok",photo:"https://ichef.bbci.co.uk/news/976/cpsprodpb/C26C/production/_111927794_gettyimages-1192169655.jpg",data:[{incoming:!1,createdAt:1633064947023,message:" looked up one of the more obscure Latin words"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:"Contrary to popular belief"},{incoming:!1,createdAt:1633084949023,message:"The first line of Lorem Ipsum"}]},{id:"Krasinski231",name:"Josh Krasinski",photo:"https://pbs.twimg.com/media/EG-LJCsX0AAr0f3.jpg",data:[{incoming:!0,createdAt:1632072937023,message:"as opposed to using"},{incoming:!1,createdAt:1632034946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1632074947003,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1632074958023,message:"combined with a handful"}]},{id:"er5orphy",name:"Morphy Me",photo:"https://mymodernmet.com/wp/wp-content/uploads/2021/01/morphy-me-celebrity-face-mashups-15.jpg",data:[{incoming:!1,createdAt:1633164947023,message:"opposed to using"},{incoming:!0,createdAt:1633014747023,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1633184847023,message:"combined with a  "},{incoming:!0,createdAt:1633184949023,message:"It is a long established fact "}]},{id:"krTerra1232",name:"Terra Let",photo:"https://i.insider.com/56016278bd86ef1c008bc175?width=1136&format=jpeg",data:[{incoming:!0,createdAt:1532074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1532074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1532074947003,message:" now use Lorem Ipsum as their default model text "},{incoming:!1,createdAt:1532074948023,message:"as opposed to using"}]},{id:"ghuytr",name:"Ross Mona",photo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQd1aszXNewnsUvlMBOt7ZdvkK17694e4jT122ZcnSzcPEmk9FAd1cGrLOPpK9LHS4WTVE&usqp=CAU",data:[{incoming:!1,createdAt:1633064947023,message:"opposed to using"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:" now use Lorem Ipsum as their default model text"},{incoming:!1,createdAt:1633084949023,message:"It is a long established fact "}]},{id:"itvanen1233",name:"Ivan Tor",photo:"https://research.fb.com/wp-content/uploads/2016/11/peopleeric-anderson-7936_finalcrop.jpg?w=300",data:[{incoming:!0,createdAt:1631074937023,message:"It is a long established fact "},{incoming:!1,createdAt:1631074946023,message:"The point of using Lorem Ipsum is "},{incoming:!0,createdAt:1631074947003,message:"opposed to using "},{incoming:!1,createdAt:1631074948023,message:"combined with a handful"}]},{id:"der5aron",name:"Aaron Soanes",photo:"https://www.co2australia.com.au/wp-content/uploads/2015/07/Aaron-Soanes_headshot.jpg",data:[{incoming:!1,createdAt:1633064947023,message:"opposed to using"},{incoming:!0,createdAt:1633084747023,message:"The  Lorem Ipsum is "},{incoming:!1,createdAt:1633084847023,message:"combined with a  "},{incoming:!1,createdAt:1633084949023,message:"It is a long established fact "}]}],g=a(37),u=c.a.createContext(),h=a(13),j=function(){var e=Object(s.useContext)(u),t=e.search,a=e.handlerSearch,c=Object(s.useRef)("");return Object(h.jsx)("div",{className:"search_box",children:Object(h.jsxs)("div",{className:"input_wrapper",children:[Object(h.jsx)("div",{className:"search_box_icon",children:"\u260c"}),Object(h.jsx)("input",{ref:c,value:t,onChange:function(){a(c.current.value)},placeholder:"Search or start new chat",type:"text"})]})})},b=function(){var e=Object(s.useContext)(u).auth,t=Object(g.a)(e),a=Object(o.a)(t,1)[0].photoURL;return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("div",{className:"header_logo",children:Object(h.jsx)("div",{className:"item_img img_select",children:Object(h.jsx)("div",{className:"header_logo_img item_img_img",children:Object(h.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(a,")")},children:"1"})})})}),Object(h.jsx)(j,{}),Object(h.jsx)("div",{className:"header_title",children:"Chats"})]})},p=function(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},f=function(e){var t=new Date(e),a=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes(),s=t.getHours()>12?"".concat(t.getHours()%12,":").concat(a,"PM"):"".concat(t.getHours(),":").concat(a,"AM");return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear().toString().slice(-2),", ").concat(s)},O=function(){var e=Object(s.useContext)(u),t=e.openChatRoom,a=e.searchResult;return Object(h.jsx)("div",{className:"persons",children:Object(h.jsx)("div",{className:"persons_list",children:a&&a.map((function(e){var a=e.data[e.data.length-1];return Object(h.jsxs)("div",{onClick:t.bind(null,e),className:"persons_item",children:[Object(h.jsx)("div",{className:"persons_item_image",children:Object(h.jsx)("div",{className:"item_img img_select",children:Object(h.jsx)("div",{className:"item_img_img",children:Object(h.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(e.photo,")")},children:"1"})})})}),Object(h.jsxs)("div",{className:"persons_item_info",children:[Object(h.jsx)("div",{className:"persons_item_name",children:e.name}),Object(h.jsx)("div",{className:"persons_item_text",children:a.message})]}),Object(h.jsx)("div",{className:"persons_item_date",children:p(a.createdAt)})]},e.id)}))})})},v=function(){var e=Object(s.useContext)(u),t=e.dataChatRoom,a=e.sendMessage,c=e.changeClassForLeftPanel,n=Object(s.useState)(""),i=Object(o.a)(n,2),r=i[0],m=i[1],d=Object(s.useRef)(null);return Object(s.useEffect)((function(){d.current.scrollIntoView()}),[t,a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("div",{className:"header_chat",children:[" ",Object(h.jsx)("div",{onClick:c.bind(null,"col_left"),className:"btn-menu",children:"\u276e "}),Object(h.jsx)("div",{className:"header_chat_img item_img img_select",children:Object(h.jsx)("div",{className:"item_img",children:Object(h.jsx)("div",{className:"item_img_img",children:Object(h.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(t.photo,")")},children:"1"})})})}),Object(h.jsx)("div",{className:"header_chat_title",children:t.name})]})}),Object(h.jsxs)("div",{className:"chat",children:[Object(h.jsxs)("div",{className:"chat_messages",children:[t.name.length>0&&t.data.map((function(e){return e.incoming?Object(h.jsxs)("div",{className:"message_item item_left",children:[Object(h.jsx)("div",{className:"item_img",children:Object(h.jsx)("div",{className:"item_img_img",children:Object(h.jsx)("div",{className:"item_img_img-cover",style:{backgroundImage:"url(".concat(t.photo,")")},children:"1"})})}),Object(h.jsxs)("div",{className:"item_info",children:[Object(h.jsx)("div",{className:"item_sms",children:e.message}),Object(h.jsx)("div",{className:"item_date",children:f(e.createdAt)})]})]},e.createdAt):Object(h.jsx)("div",{className:"message_item item_right",children:Object(h.jsxs)("div",{className:"item_info",children:[Object(h.jsx)("div",{className:"item_sms",children:e.message}),Object(h.jsx)("div",{className:"item_date",children:f(e.createdAt)})]})},e.createdAt)})),Object(h.jsx)("i",{ref:d})]}),Object(h.jsx)("div",{className:"chat_send_message",children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("div",{className:"wrapper_textarea",children:Object(h.jsx)("textarea",{value:r,onChange:function(e){return m(e.target.value)},placeholder:"Type your message",type:"text"})}),Object(h.jsx)("div",{onClick:function(){return e={id:t.id,message:r},a(e),void m("");var e},className:"wrapper_icon chat_box_icon",children:"\u27a2"})]})})]})]})},x=function(){var e=Object(s.useContext)(u).classLeftColumn;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:e,children:[Object(h.jsx)(b,{}),Object(h.jsx)(O,{})]}),Object(h.jsx)("div",{className:"col_right",children:Object(h.jsx)(v,{})})]})},_=a(0),N=a.n(_),A=a(3),w=function(){var e=Object(s.useContext)(u).auth,t=function(){var t=Object(A.a)(N.a.mark((function t(){var a,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new d.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(a);case 3:s=t.sent,s.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"col-12 center",children:Object(h.jsx)("div",{className:"form-login",children:Object(h.jsx)("button",{onClick:t,children:"Sigh In Google"})})})},C=function(){var e=Object(s.useContext)(u).auth,t=Object(g.a)(e);return Object(o.a)(t,1)[0]?Object(h.jsx)(x,{}):Object(h.jsx)(w,{})},I=function(e){return Object(r.a)(e).sort((function(e,t){return t.data[t.data.length-1].createdAt-e.data[e.data.length-1].createdAt}))},S=d.a.auth(),y=d.a.firestore();var L=function(){var e=Object(s.useState)(l),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(a[0]),i=Object(o.a)(n,2),g=i[0],j=i[1],b=Object(s.useState)(""),p=Object(o.a)(b,2),f=p[0],O=p[1],v=Object(s.useState)([]),x=Object(o.a)(v,2),_=x[0],N=x[1],A=Object(s.useState)(""),w=Object(o.a)(A,2),L=w[0],k=w[1],R=Object(s.useState)("col_left"),T=Object(o.a)(R,2),M=T[0],D=T[1],F=function(){fetch("https://api.chucknorris.io/jokes/random").then((function(e){return e.json()})).then((function(e){return k(e.value)}))};Object(s.useEffect)((function(){if(localStorage.getItem("dataChatReenbit")){var e=JSON.parse(localStorage.getItem("dataChatReenbit"));c(e),j(e[0]),N(e)}else{var t=I(a);localStorage.setItem("dataChatReenbit",JSON.stringify(t)),c(t),j(t[0]),N(t)}F()}),[]),Object(s.useEffect)((function(){var e=I(a);if(localStorage.setItem("dataChatReenbit",JSON.stringify(e)),""!==f){var t=a.filter((function(e){return e.name.replace(/\s+/g,"").toLowerCase().includes(f.replace(/\s+/g,"").toLowerCase())}));N(t)}else N(a)}),[a,g,f]);var J=function(e){D(e)},P=function(e){var t=Object(r.a)(a);t.map((function(t){return t.id===e&&t.data.push({incoming:!0,createdAt:Date.now(),message:L}),t}));var s=I(t);c(s),localStorage.setItem("dataChatReenbit",JSON.stringify(s))};return Object(h.jsxs)(m.a,{children:[Object(h.jsx)(u.Provider,{value:{firebase:d.a,auth:S,firestore:y,sendMessage:function(e){if(e.message.trim().length<1)return!1;var t=Object(r.a)(a);t.map((function(t){return t.id===e.id&&t.data.push({incoming:!1,createdAt:Date.now(),message:e.message}),t}));var s=I(t);c(s),localStorage.setItem("dataChatReenbit",JSON.stringify(s)),F(),setTimeout((function(){P(e.id)}),1e4),clearTimeout(1e4)},openChatRoom:function(e){j(e),J("col_left active")},dataChatRoom:g,search:f,handlerSearch:function(e){O(e)},searchResult:_,classLeftColumn:M,changeClassForLeftPanel:J},children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(C,{})})})}),","]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),k()}},[[65,1,2]]]);
//# sourceMappingURL=main.49269d66.chunk.js.map